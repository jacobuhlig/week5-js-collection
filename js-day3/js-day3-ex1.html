<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /> -->
    <!-- <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT"
      crossorigin="anonymous"
    /> -->
    <title>js-day3-ex1</title>
  </head>

  <!-- Ex1.1 -->
  <body style="font-family: sans-serif">
    <div>
      <div style="font-size: 0">
        <input id="inputTextId" type="text" />
        <button id="getUserId">Get User</button>
      </div>
      <div id="single-user-content">
        <table>
          <thread>
            <tr>
              <td id="nameId">Name:</td>
            </tr>
            <tr>
              <td id="phoneId">Phone:</td>
            </tr>
          </thread>
        </table>

        <p></p>

        <table>
          <tr>
            <td><b>Address</b></td>
          </tr>
          <thread>
            <tr>
              <td id="streetId">Street:</td>
            </tr>
            <tr>
              <td id="cityId">City:</td>
            </tr>
            <tr>
              <td id="zipId">Zip:</td>
            </tr>
            <tr>
              <td id="geoId">Geo (lat, lng):</td>
            </tr>
          </thread>
          <tbody id="tbodyId"></tbody>
        </table>
      </div>
    </div>

    <script>
      const URL = "https://jsonplaceholder.typicode.com/users/";
      document.getElementById("getUserId").onclick = getUser;

      function getUser() {
        const id = document.getElementById("inputTextId").value;
        fetch(URL + id)
          .then((res) => {
            if (!res.ok) {
              return Promise.reject("Could not find user");
            }
            return res.json();
          })
          .then((user) => {
            const content = document.getElementById("single-user-content");
            document.getElementById("nameId").innerText = "Name: " + user.name;
            document.getElementById("phoneId").innerText =
              "Phone: " + user.phone;

            document.getElementById("streetId").innerText =
              "Street: " + user.address.street;
            document.getElementById("cityId").innerText =
              "City: " + user.address.city;
            document.getElementById("zipId").innerText =
              "Zip: " + user.address.zipcode;
            document.getElementById("geoId").innerText =
              "Geo (lat, lng): " +
              user.address.geo.lat +
              ", " +
              user.address.geo.lng;
          })
          .catch((e) => {
            console.log("Error", e);
            const node = document.getElementById("error");
            node.innerText = e;
          });
      }
    </script>
  </body>
</html>
